# Les principes FIRST : Exhaustifs (Thorough)

Le cinquième et dernier principe **FIRST** est le **T**, qui représente "_Thorough_" (exhaustifs). Ce principe met l'accent sur l'importance de viser une couverture complète de tous les cas et scénarios d'utilisation dans nos tests. La simple couverture du code n'est pas suffisante pour garantir une qualité de test adéquate. 🎯

Permettez-moi de commencer par expliquer la notion de "_couverture du code_". La couverture du code ou des tests est une mesure qui indique quelle partie du code de votre programme est exercée lors de l'exécution des tests. Des outils automatisés sont disponibles pour effectuer cette mesure. Ils instrumentent le code de test ou de production, puis exécutent les tests, en enregistrant chaque ligne de code qui est appelée ou exécutée pendant l'exécution. À la fin des tests, ces outils rassemblent ces informations et fournissent un rapport indiquant le pourcentage de lignes de code qui ont été exécutées. 📊

Cependant, la simple couverture du code ne suffit pas. Elle représente au mieux une limite supérieure de la proportion de votre programme testée. Par exemple, si le rapport indique une couverture de 50 %, cela signifie que vous avez couvert au maximum 50 % des tests, voire moins. Ce rapport ne fournit aucune indication sur le nombre réel de scénarios couverts par les tests. Il est possible que le code soit exécuté sans aucune vérification réelle (absence d'assertions), ce qui conduit à une couverture sans tests réels. Malheureusement, cela peut se produire lorsque la seule préoccupation est d'atteindre un certain seuil de couverture du code, sans se soucier d'une couverture adéquate des scénarios réels. 🚫

La couverture du code, bien qu'utile, devrait être utilisée de manière plus approfondie. Son véritable avantage réside dans les informations qu'elle fournit sur les parties du code non couvertes par les tests. Ces informations permettent d'écrire des tests supplémentaires pour couvrir les scénarios manquants. L'objectif réel devrait être de tester tous les scénarios d'utilisation connus, au lieu de se limiter à une simple couverture du code. ✅

Pour atteindre une couverture exhaustive, il est nécessaire d'utiliser une combinaison de différents types de tests. Les tests d'acceptation, qui couvrent l'ensemble du système de l'interface utilisateur à la base de données, ne peuvent pas tester toutes les permutations possibles d'un programme complexe. Plus le code exécuté lors des tests est important, plus le nombre de permutations possibles est élevé, ce qui nécessite un grand nombre de tests pour une couverture complète. Il est donc économiquement peu viable de tout tester avec des tests d'acceptation. Il est préférable d'adopter un équilibre en utilisant des petits tests, des tests d'intégration qui testent les limites du système, et surtout, de nombreux tests unitaires qui couvrent les éléments de manière isolée en tant qu'unités. Ces unités sont ensuite assemblées pour former le programme complet. ⚖️

Il est crucial que les tests unitaires soient rigoureux et fonctionnent conformément aux attentes. Une pratique recommandée pour appliquer ce principe de rigueur est le développement piloté par les tests (**TDD**). Avec le TDD, les tests sont écrits avant le code de production. Cela garantit qu'aucun scénario n'est oublié, car aucun code n'est écrit tant qu'un test approprié n'est pas en place. L'écriture de tests après coup peut parfois entraîner l'omission de certains scénarios couverts par le code, car on peut ne pas se rendre compte de l'existence d'autres scénarios non encore couverts. ✏️

En conclusion, les tests exhaustifs sont essentiels pour une qualité de test adéquate. Cela implique de viser une couverture complète de tous les cas et scénarios d'utilisation, plutôt que de simplement se concentrer sur la couverture du code. Une combinaison équilibrée de tests unitaires, de tests d'intégration et de tests d'acceptation est recommandée pour atteindre une couverture exhaustive. Le **TDD** est une pratique efficace pour garantir la rigueur des tests et éviter l'omission de scénarios importants. 🧪

Voilà qui conclut notre découverte sur les principes **FIRST**. J'espère que vous avez apprécié cette série et que vous avez appris quelque chose de nouveau. N'hésitez pas à me contacter si vous avez des questions ou des commentaires. 👍
